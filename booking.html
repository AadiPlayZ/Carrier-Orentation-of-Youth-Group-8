<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Calendar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .calendar-day {
            transition: all 0.2s ease;
        }
        .calendar-day:hover {
            transform: scale(1.05);
        }
        .modal {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .selected-date {
            background-color: #FCA311 !important;
            color: white !important;
        }
        .selected-session {
            border: 2px solid #FCA311;
            background-color: #FFF4E5;
        }
        .selected-time {
            background-color: #14213D !important;
            color: white !important;
        }
        .occupied-time {
            background-color: #E5E5E5 !important;
            color: #A1A1AA !important;
            cursor: not-allowed !important;
            text-decoration: line-through;
        }
        .booked-day {
            background-color: #FFE4E6 !important;
            color: #DC2626 !important;
            border-color: #DC2626 !important;
        }
        .available-day {
            background-color: #ECFDF5 !important;
            color: #059669 !important;
            border-color: #059669 !important;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="max-w-6xl mx-auto px-4 py-8">
        <!-- Header Section -->
        <header class="flex flex-col md:flex-row items-start md:items-center gap-6 mb-12">
            <div class="flex-shrink-0">
                <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Mentor Profile" class="w-32 h-32 rounded-full border-4 border-orange-500 object-cover">
            </div>
            <div>
                <h1 class="text-4xl font-bold text-black mb-2">Michael Chen</h1>
                <p class="text-lg text-gray-700 mb-3">SDE@Microsoft | Knight(1900+) @Leetcode | Backend developerüßë‚Äçüíª(Java,SQL) | 1000+ DSA @Leetcode+GFG | Tutor | Mentor | CS Grad'22</p>
                <div class="flex items-center space-x-4">
                    <a href="#" class="text-orange-500 hover:text-orange-600 font-medium">TEDxIIMTrichy Talk</a>
                    <span class="text-gray-500">|</span>
                    <div class="flex items-center">
                        <span class="text-yellow-400">‚òÖ ‚òÖ ‚òÖ ‚òÖ ‚òÖ</span>
                        <span class="ml-2 text-gray-700">5.0 (12 reviews)</span>
                    </div>
                </div>
            </div>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Mentor Info Section -->
            <div class="lg:col-span-1 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-bold text-black mb-4">About Michael</h2>
                <p class="text-gray-700 mb-4">I am a Backend Developer with hands-on experience in building scalable and efficient server-side applications using Java, Spring Boot, and gRPC. I specialize in designing robust microservices architectures and implementing high-performance APIs. Additionally, I have working knowledge of Kotlin, which I use to develop clean, concise, and maintainable backend code. I‚Äôm passionate about backend systems that are reliable, fast, and future-ready.</p>
                
                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">Expertise</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <svg class="h-5 w-5 text-orange-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>Java & Spring Boot for backend development</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="h-5 w-5 text-orange-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>gRPC for fast, efficient service communication

                            </span>
                        </li>
                        <li class="flex items-start">
                            <svg class="h-5 w-5 text-orange-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>Kotlin for clean, concise code</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="h-5 w-5 text-orange-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>CI/CD pipeline setup

                            </span>
                        </li>
                        <li class="flex items-start">
                            <svg class="h-5 w-5 text-orange-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>Docker for containerization

                            </span>
                        </li>
                        <li class="flex items-start">
                            <svg class="h-5 w-5 text-orange-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>Debugging & performance tuning



                            </span>
                        </li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">Ask me about</h3>
                    <ul class="list-disc pl-5 text-gray-700 space-y-1">
                        <li>Building scalable and reliable backend systems</li>
                        <li>Securing backend with JWT, OAuth2, and Spring Security</li>
                        <li>Handling async tasks with Kafka and message queues</li>
                        <li>Designing efficient APIs with REST and gRPC</li>
                    </ul>
                </div>
            </div>

            <!-- Booking Section -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <h2 class="text-2xl font-bold text-black mb-6">Available Sessions</h2>
                    
                    <!-- Session Types -->
                    <div class="space-y-6">
                        <!-- Quick Chat -->
                        <div id="quick-chat" class="border border-gray-200 rounded-lg p-4 session-option cursor-pointer hover:border-orange-300" onclick="selectSession('quick-chat', 'Quick Chat', '30 mins', 1740)">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h3 class="text-xl font-semibold text-gray-700">Quick Chat</h3>
                                    <p class="text-gray-600 mt-1">Ideal for introductions, quick AMAs</p>
                                </div>
                                <span class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium">30 mins</span>
                            </div>
                            <div class="mt-4 flex justify-between items-center">
                                <span class="text-gray-700">Video Meeting</span>
                                <span class="text-black font-bold">‚Çπ1,740</span>
                            </div>
                        </div>
                        
                        <!-- Career Advice -->
                        <div id="career-advice" class="border border-gray-200 rounded-lg p-4 session-option cursor-pointer hover:border-orange-300" onclick="selectSession('career-advice', 'Career Advice', '45 mins', 1999)">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h3 class="text-xl font-semibold text-gray-700">Career Advice</h3>
                                    <p class="text-gray-600 mt-1">Feeling stuck in your career? Let's talk!</p>
                                </div>
                                <span class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium">45 mins</span>
                            </div>
                            <div class="mt-4 flex justify-between items-center">
                                <span class="text-gray-700">Video Meeting</span>
                                <span class="text-black font-bold">‚Çπ1,999</span>
                            </div>
                        </div>
                        
                        <!-- Startup Advice -->
                        <div id="startup-advice" class="border border-gray-200 rounded-lg p-4 session-option cursor-pointer hover:border-orange-300" onclick="selectSession('startup-advice', 'Startup Advice', '60 mins', 2999)">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h3 class="text-xl font-semibold text-gray-700">Startup Advice</h3>
                                    <p class="text-gray-600 mt-1">Want to take the startup plunge? I'm here to help!</p>
                                </div>
                                <span class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium">60 mins</span>
                            </div>
                            <div class="mt-4 flex justify-between items-center">
                                <span class="text-gray-700">Video Meeting</span>
                                <span class="text-black font-bold">‚Çπ2,999</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Calendar Section -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-2xl font-bold text-black mb-6">Select Date & Time</h2>
                    
                    <div class="mb-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold text-gray-700" id="current-month">April 2025</h3>
                            <div class="flex space-x-2">
                                <button onclick="previousMonth()" class="p-2 rounded-full hover:bg-gray-100">
                                    <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                                    </svg>
                                </button>
                                <button onclick="nextMonth()" class="p-2 rounded-full hover:bg-gray-100">
                                    <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-7 gap-2 mb-2">
                            <div class="text-center text-gray-500 font-medium text-sm">Sun</div>
                            <div class="text-center text-gray-500 font-medium text-sm">Mon</div>
                            <div class="text-center text-gray-500 font-medium text-sm">Tue</div>
                            <div class="text-center text-gray-500 font-medium text-sm">Wed</div>
                            <div class="text-center text-gray-500 font-medium text-sm">Thu</div>
                            <div class="text-center text-gray-500 font-medium text-sm">Fri</div>
                            <div class="text-center text-gray-500 font-medium text-sm">Sat</div>
                        </div>
                        
                        <div id="calendar-days" class="grid grid-cols-7 gap-2">
                            <!-- Calendar days will be generated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-3">Available Time Slots</h3>
                        <div id="time-slots" class="grid grid-cols-2 md:grid-cols-3 gap-3">
                            <!-- Time slots will be generated by JavaScript -->
                            <p class="col-span-3 text-gray-500 text-center">Please select a date to view available times</p>
                        </div>
                    </div>
                    
                    <div id="selected-slot-info" class="bg-gray-50 p-4 rounded-lg mb-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-2">Your Selection</h3>
                        <div id="next-available" class="mb-3">
                            <p class="text-gray-700">No slot selected</p>
                        </div>
                        <div id="price-breakdown" class="hidden">
                            <div class="flex justify-between mb-1">
                                <span class="text-gray-700">Session Fee:</span>
                                <span id="session-fee" class="font-medium">‚Çπ0</span>
                            </div>
                            <div class="flex justify-between mb-1">
                                <span class="text-gray-700">Platform Fee:</span>
                                <span id="platform-fee" class="font-medium">‚Çπ0</span>
                            </div>
                            <div class="flex justify-between mb-1">
                                <span class="text-gray-700">GST (18%):</span>
                                <span id="gst" class="font-medium">‚Çπ0</span>
                            </div>
                            <div class="flex justify-between mt-3 pt-2 border-t border-gray-200">
                                <span class="text-gray-700 font-semibold">Total Amount:</span>
                                <span id="total-amount" class="text-black font-bold">‚Çπ0</span>
                            </div>
                        </div>
                    </div>
                    
                    <button id="confirmBtn" onclick="confirmBooking()" class="w-full bg-gray-300 text-gray-600 py-3 px-6 rounded-md font-medium cursor-not-allowed" disabled>
                        Confirm Details
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Success Modal -->
    <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal opacity-0 pointer-events-none">
        <div class="bg-white rounded-lg p-8 max-w-md w-full transform transition-all scale-95">
            <div class="flex justify-center mb-6">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">
                    <svg class="w-10 h-10 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                </div>
            </div>
            <h2 class="text-2xl font-bold text-center text-black mb-4">Booking Confirmed!</h2>
            <div class="text-center mb-6">
                <p class="text-gray-700 mb-2">Your <span id="confirm-session-type" class="font-semibold">Quick Chat (30 mins)</span> session with Michael Chen has been successfully booked.</p>
                <p class="text-gray-700 mb-2">Date: <span id="confirm-date" class="font-semibold">Thu 17 Apr</span></p>
                <p class="text-gray-700 mb-2">Time: <span id="confirm-time" class="font-semibold">07:30 PM</span></p>
                <p class="text-gray-700 mb-4">All meeting details and calendar invite have been sent to your email.</p>
                <div class="bg-gray-50 p-3 rounded-lg">
                    <p class="font-semibold">Payment Summary</p>
                    <div class="flex justify-between text-sm">
                        <span>Session Fee:</span>
                        <span id="confirm-session-fee">‚Çπ1,740</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>Platform Fee:</span>
                        <span id="confirm-platform-fee">‚Çπ100</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>GST (18%):</span>
                        <span id="confirm-gst">‚Çπ331.20</span>
                    </div>
                    <div class="flex justify-between mt-2 pt-2 border-t border-gray-200 text-sm font-medium">
                        <span>Total Paid:</span>
                        <span id="confirm-total">‚Çπ2,171.20</span>
                    </div>
                </div>
            </div>
            <button onclick="closeModal()" class="w-full bg-blue-700 text-white py-2 px-4 rounded-md hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-700 focus:ring-offset-2">
                Close
            </button>
        </div>
    </div>

    <script>
        // State variables
let currentDate = new Date();
let selectedDate = null;
let selectedTime = null;
let selectedSession = null;
let selectedSessionName = '';
let selectedSessionDuration = '';
let selectedSessionPrice = 0;

// Fees and taxes
const PLATFORM_FEE = 100;
const GST_RATE = 0.18;

// Available dates (for demo purposes)
const availableDates = [
    '2025-04-07', '2025-04-08', '2025-04-09', '2025-04-10',
    '2025-04-14', '2025-04-15', '2025-04-16', '2025-04-17',
    '2025-04-21', '2025-04-22', '2025-04-23', '2025-04-24', 
    '2025-04-28', '2025-04-29', '2025-04-30', '2025-05-01'
];

// Fully booked dates (for demo purposes)
const fullyBookedDates = [
    '2025-04-09', '2025-04-15', '2025-04-23', '2025-04-29'
];

// Available times (for demo purposes)
const allTimeSlots = [
    '07:30 AM', '09:00 AM', '10:30 AM', '12:00 PM',
    '02:00 PM', '03:30 PM', '05:00 PM', '06:30 PM',
    '08:00 PM', '09:30 PM'
];

// Occupied slots (for demo purposes)
const occupiedSlots = {
    '2025-04-07': ['09:00 AM', '02:00 PM'],
    '2025-04-08': ['10:30 AM', '05:00 PM'],
    '2025-04-09': ['07:30 AM', '09:00 AM', '10:30 AM', '12:00 PM', '02:00 PM', '03:30 PM', '05:00 PM', '06:30 PM', '08:00 PM', '09:30 PM'],
    '2025-04-14': ['03:30 PM', '08:00 PM'],
    '2025-04-15': ['07:30 AM', '09:00 AM', '10:30 AM', '12:00 PM', '02:00 PM', '03:30 PM', '05:00 PM', '06:30 PM', '08:00 PM', '09:30 PM'],
    '2025-04-22': ['12:00 PM', '06:30 PM'],
    '2025-04-23': ['07:30 AM', '09:00 AM', '10:30 AM', '12:00 PM', '02:00 PM', '03:30 PM', '05:00 PM', '06:30 PM', '08:00 PM', '09:30 PM'],
    '2025-04-29': ['07:30 AM', '09:00 AM', '10:30 AM', '12:00 PM', '02:00 PM', '03:30 PM', '05:00 PM', '06:30 PM', '08:00 PM', '09:30 PM']
};

// Initialize calendar
function renderCalendar() {
    const calendarDays = document.getElementById('calendar-days');
    calendarDays.innerHTML = '';
    
    const month = currentDate.getMonth();
    const year = currentDate.getFullYear();
    
    document.getElementById('current-month').textContent = 
        new Date(year, month).toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
    
    // Get first day of month
    const firstDay = new Date(year, month, 1).getDay();
    
    // Get days in month
    const daysInMonth = new Date(year, month + 1, 0).getDate();
    
    // Get days in previous month
    const daysInPrevMonth = new Date(year, month, 0).getDate();
    
    // Previous month days
    for (let i = firstDay - 1; i >= 0; i--) {
        const day = daysInPrevMonth - i;
        const dayElement = document.createElement('div');
        dayElement.className = 'text-center text-gray-400 py-2';
        dayElement.textContent = day;
        calendarDays.appendChild(dayElement);
    }
    
    // Current month days
    for (let day = 1; day <= daysInMonth; day++) {
        const date = new Date(year, month, day);
        const dateString = formatDate(date);
        const isAvailable = availableDates.includes(dateString);
        const isFullyBooked = fullyBookedDates.includes(dateString);
        
        const dayElement = document.createElement('div');
        dayElement.className = `text-center py-2 rounded-full cursor-pointer calendar-day ${
            isFullyBooked 
                ? 'booked-day cursor-not-allowed' 
                : isAvailable 
                    ? 'available-day hover:bg-green-50' 
                    : 'text-gray-400 cursor-not-allowed'
        }`;
        dayElement.textContent = day;
        
        if (isAvailable && !isFullyBooked) {
            dayElement.addEventListener('click', () => {
                selectDate(date, day);
            });
            
            // Highlight if selected
            if (selectedDate && formatDate(selectedDate) === dateString) {
                dayElement.classList.add('selected-date');
                dayElement.classList.remove('available-day', 'hover:bg-green-50');
            }
        }
        
        calendarDays.appendChild(dayElement);
    }
    
    // Next month days
    const totalDays = firstDay + daysInMonth;
    const remainingDays = 7 - (totalDays % 7);
    
    if (remainingDays < 7) {
        for (let day = 1; day <= remainingDays; day++) {
            const dayElement = document.createElement('div');
            dayElement.className = 'text-center text-gray-400 py-2';
            dayElement.textContent = day;
            calendarDays.appendChild(dayElement);
        }
    }
}

// Render time slots for selected date
function renderTimeSlots() {
    const timeSlotsContainer = document.getElementById('time-slots');
    timeSlotsContainer.innerHTML = '';
    
    if (!selectedDate) {
        timeSlotsContainer.innerHTML = '<p class="col-span-3 text-gray-500 text-center">Please select a date to view available times</p>';
        return;
    }
    
    const dateString = formatDate(selectedDate);
    const isFullyBooked = fullyBookedDates.includes(dateString);
    const occupiedTimes = occupiedSlots[dateString] || [];
    
    if (isFullyBooked) {
        timeSlotsContainer.innerHTML = `
            <div class="col-span-3 text-center py-4 text-gray-500">
                <svg class="w-12 h-12 mx-auto mb-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <p class="font-medium">This date is fully booked</p>
                <p class="text-sm">Please select another date</p>
            </div>
        `;
        return;
    }
    
    // Show all time slots, marking occupied ones
    allTimeSlots.forEach(time => {
        const isOccupied = occupiedTimes.includes(time);
        
        const timeButton = document.createElement('button');
        timeButton.className = `py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 ${
            isOccupied 
                ? 'bg-gray-200 text-gray-500 cursor-not-allowed occupied-time' 
                : 'bg-green-500 text-white hover:bg-green-600 focus:ring-green-500'
        }`;
        timeButton.textContent = time;
        
        if (!isOccupied) {
            timeButton.addEventListener('click', () => selectTime(time));
        }
        
        // Highlight if selected
        if (selectedTime === time) {
            timeButton.classList.add('selected-time');
            timeButton.classList.remove('bg-green-500', 'hover:bg-green-600');
        }
        
        timeSlotsContainer.appendChild(timeButton);
    });
}

// Format date as YYYY-MM-DD
function formatDate(date) {
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const day = String(date.getDate()).padStart(2, '0');
    return `${year}-${month}-${day}`;
}

// Format date for display (e.g., "Thu 17 Apr")
function formatDisplayDate(date) {
    return date.toLocaleDateString('en-US', { weekday: 'short', day: 'numeric', month: 'short' });
}

// Format currency
function formatCurrency(amount) {
    return '‚Çπ' + amount.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
}

// Select date
function selectDate(date, day) {
    selectedDate = date;
    selectedTime = null;
    
    // Update UI
    document.querySelectorAll('.calendar-day').forEach(el => {
        el.classList.remove('selected-date');
        if (parseInt(el.textContent) === day && 
            !el.classList.contains('text-gray-400') && 
            !el.classList.contains('booked-day')) {
            el.classList.add('selected-date');
            el.classList.remove('available-day', 'hover:bg-green-50');
        }
    });
    
    renderTimeSlots();
    updateSelectionInfo();
    checkConfirmButton();
}

// Select time
function selectTime(time) {
    selectedTime = time;
    
    // Update UI
    document.querySelectorAll('#time-slots button').forEach(btn => {
        if (!btn.classList.contains('occupied-time')) {
            btn.classList.remove('selected-time');
            btn.classList.add('bg-green-500', 'hover:bg-green-600');
            btn.classList.remove('bg-blue-700', 'hover:bg-blue-800');
            
            if (btn.textContent === time) {
                btn.classList.add('selected-time');
                btn.classList.remove('bg-green-500', 'hover:bg-green-600');
            }
        }
    });
    
    updateSelectionInfo();
    checkConfirmButton();
}

// Select session
function selectSession(id, name, duration, price) {
    selectedSession = id;
    selectedSessionName = name;
    selectedSessionDuration = duration;
    selectedSessionPrice = price;
    
    // Update UI
    document.querySelectorAll('.session-option').forEach(el => {
        el.classList.remove('selected-session');
        el.classList.add('border-gray-200');
        el.classList.remove('border-orange-500');
    });
    
    document.getElementById(id).classList.add('selected-session');
    document.getElementById(id).classList.remove('border-gray-200');
    
    updateSelectionInfo();
    checkConfirmButton();
}

// Update selection info
function updateSelectionInfo() {
    const infoDiv = document.getElementById('selected-slot-info');
    const nextAvailableDiv = document.getElementById('next-available');
    const priceBreakdownDiv = document.getElementById('price-breakdown');
    
    if (!selectedSession) {
        nextAvailableDiv.innerHTML = '<p class="text-gray-700">No session type selected</p>';
        priceBreakdownDiv.classList.add('hidden');
        return;
    }
    
    if (!selectedDate || !selectedTime) {
        nextAvailableDiv.innerHTML = `
            <p class="text-gray-700">
                <span class="font-medium">${selectedSessionName} (${selectedSessionDuration})</span>
                <br>Please select a date and time to continue
            </p>
        `;
        priceBreakdownDiv.classList.add('hidden');
        return;
    }
    
    // Show full selection details
    nextAvailableDiv.innerHTML = `
        <p class="text-gray-700">
            <span class="font-medium">${selectedSessionName} (${selectedSessionDuration})</span>
            <br>${formatDisplayDate(selectedDate)} at ${selectedTime}
        </p>
    `;
    
    // Calculate fees
    const sessionFee = selectedSessionPrice;
    const platformFee = PLATFORM_FEE;
    const gst = (sessionFee + platformFee) * GST_RATE;
    const totalAmount = sessionFee + platformFee + gst;
    
    // Update price breakdown
    document.getElementById('session-fee').textContent = formatCurrency(sessionFee);
    document.getElementById('platform-fee').textContent = formatCurrency(platformFee);
    document.getElementById('gst').textContent = formatCurrency(gst);
    document.getElementById('total-amount').textContent = formatCurrency(totalAmount);
    
    priceBreakdownDiv.classList.remove('hidden');
}

// Check if confirm button should be enabled
function checkConfirmButton() {
    const confirmBtn = document.getElementById('confirmBtn');
    
    if (selectedSession && selectedDate && selectedTime) {
        confirmBtn.disabled = false;
        confirmBtn.classList.remove('bg-gray-300', 'text-gray-600', 'cursor-not-allowed');
        confirmBtn.classList.add('bg-orange-500', 'text-white', 'hover:bg-orange-600');
    } else {
        confirmBtn.disabled = true;
        confirmBtn.classList.add('bg-gray-300', 'text-gray-600', 'cursor-not-allowed');
        confirmBtn.classList.remove('bg-orange-500', 'text-white', 'hover:bg-orange-600');
    }
}

// Navigate to previous month
function previousMonth() {
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar();
}

// Navigate to next month
function nextMonth() {
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar();
}

// Confirm booking
function confirmBooking() {
    if (!selectedSession || !selectedDate || !selectedTime) return;
    
    // Calculate fees for confirmation
    const sessionFee = selectedSessionPrice;
    const platformFee = PLATFORM_FEE;
    const gst = (sessionFee + platformFee) * GST_RATE;
    const totalAmount = sessionFee + platformFee + gst;
    
    // Update confirmation modal
    document.getElementById('confirm-session-type').textContent = `${selectedSessionName} (${selectedSessionDuration})`;
    document.getElementById('confirm-date').textContent = formatDisplayDate(selectedDate);
    document.getElementById('confirm-time').textContent = selectedTime;
    document.getElementById('confirm-session-fee').textContent = formatCurrency(sessionFee);
    document.getElementById('confirm-platform-fee').textContent = formatCurrency(platformFee);
    document.getElementById('confirm-gst').textContent = formatCurrency(gst);
    document.getElementById('confirm-total').textContent = formatCurrency(totalAmount);
    
    // Show modal
    const modal = document.getElementById('successModal');
    modal.classList.add('opacity-100');
    modal.classList.remove('opacity-0', 'pointer-events-none');
    modal.querySelector('div').classList.add('scale-100');
    modal.querySelector('div').classList.remove('scale-95');
}

// Close modal
function closeModal() {
    const modal = document.getElementById('successModal');
    modal.classList.remove('opacity-100');
    modal.classList.add('opacity-0', 'pointer-events-none');
    modal.querySelector('div').classList.remove('scale-100');
    modal.querySelector('div').classList.add('scale-95');
    
    // Reset selection for new booking
    resetSelection();
}

// Reset selection
function resetSelection() {
    selectedDate = null;
    selectedTime = null;
    selectedSession = null;
    selectedSessionName = '';
    selectedSessionDuration = '';
    selectedSessionPrice = 0;
    
    // Reset UI
    document.querySelectorAll('.calendar-day').forEach(el => {
        el.classList.remove('selected-date');
    });
    
    document.querySelectorAll('.session-option').forEach(el => {
        el.classList.remove('selected-session');
    });
    
    renderTimeSlots();
    updateSelectionInfo();
    checkConfirmButton();
}

// Initialize when document is ready
document.addEventListener('DOMContentLoaded', function() {
    renderCalendar();
    updateSelectionInfo();
    checkConfirmButton();
});
    </script>
</body>
</html>     